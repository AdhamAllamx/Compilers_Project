# Milestone 2 - Syntax Analyzer (Parser)

## Overview

This project implements a **Syntax Analyzer (Parser)** in Python using **PLY (Python Lex-Yacc)**.  
The parser reads the token streams generated by the Lexical Analyzer (**Milestone 1**) and verifies that they conform to the grammar of the language.  
If the syntax is valid, it generates an **Abstract Syntax Tree (AST)** representing the structure of the input code.

Additionally, as an enhancement, the parser now supports **subtraction (-)**, **multiplication (*)**, and **division (/)** operations in addition to the required addition (+).

---

## Files Included in Submission

- `Parser.py`: Main Python code containing the AST node classes, grammar rules, parser implementation, and lexer adapter.
- `Lexer.py`: The lexical analyzer code from Milestone 1 (used to tokenize input).
- `sample_input.txt`: A sample text file containing multiple lines of test code.
- `parsetab.py`: Auto-generated PLY parser table (do not edit manually).
- `README.md`: This file.

---

## How It Works

The core components are:

### ðŸ”¹ `Parser` (PLY-based):

- **Input**: A token stream from `Lexer.py`.
- **Output**: An **AST** if the input conforms to the grammar; otherwise, a `SyntaxError`.
- **Returns**: An AST representing the program's structure.
- **Prints**: The token stream and the final AST for review.

---

## Language Features Supported

This language supports:

1. **Variable Declarations**
   - Example: `int x;` or `string name;`

2. **Variable Assignments**
   - Example: `x = 5;` or `name = "Alice";`

3. **Expressions**  
   - **Addition (`+`) [Required]**
   - **Subtraction (`-`), Multiplication (`*`), Division (`/`) [Enhanced Feature]**

   Example:
   - `y = x + 3;`
   - `z = x / y;`
   - `greeting = "Hello" + " World!";`

4. **Supported Data Types**
   - `int`
   - `string`

---

## Grammar Definition

**Note**: Grammar extended to support subtraction, multiplication, and division.

program      ::= stmt_list
stmt_list    ::= stmt stmt_list | stmt
stmt         ::= var_decl SEMI | assignment SEMI
var_decl     ::= type ID
type         ::= INT | STRING_TYPE
assignment   ::= ID EQUALS expr
expr         ::= expr ADDITION term
              | expr SUBTRACTION term
              | expr MULTIPLICATION term
              | expr DIVISION term
              | term
term         ::= NUM | ID | STRING



-----------------------------------------------------

# Abstract Syntax Tree (AST) Node Types

- **Program**: Root node containing all statements.
- **VarDecl**: Variable declaration (type and name).
- **Assignment**: Variable assignment (name and expression).
- **BinOp**: Binary operation (e.g., addition,subtraction,multiplication,division).
- **Num**: Numeric constant.
- **Str**: String constant.
- **Var**: Variable reference.

--------------------------------------------------

## Implementation Details

### AST Node Classes

Classes such as `Program`, `VarDecl`, `Assignment`, `BinOp`, are defined to structure the AST.

### PLY Grammar Rules

Implements the grammar rules described above to parse token streams.

### Lexer Adapter

Converts the token format from `Lexer.py` to the format expected by PLY.

### Error Handling

If invalid syntax is detected, a `SyntaxError` is raised with a detailed message.

--------------------------------------------------

## Test File

The `sample_input.txt` file contains valid test cases, including:

int x;
int y;
int z;
string email;
string name;
string greeting;

x = 5;
y = x + 3;
z = x / y;
email = "adham.allam.x@gmail.com";
name = "Alice";
greeting = "Hello" + " World!";


------------------------------------------------------

## Example output 

- Lexical Analyzer Tokens Stream:

['KW(int)', 'ID(x)', ';']
['KW(int)', 'ID(y)', ';']
['KW(int)', 'ID(z)', ';']
['KW(string)', 'ID(email)', ';']
['KW(string)', 'ID(name)', ';']
['KW(string)', 'ID(greeting)', ';']
['ID(x)', '=', 'NUM(5)', ';']
['ID(y)', '=', 'ID(x)', '+', 'NUM(3)', ';']
['ID(z)', '=', 'ID(x)', '/', 'ID(y)', ';']
['ID(email)', '=', 'STRING("adham.allam.x@gmail.com")', ';']
['ID(name)', '=', 'STRING("Alice")', ';']
['ID(greeting)', '=', 'STRING("Hello")', '+', 'STRING(" World!")', ';']


- AST from Parser:

('program', [
  ('var_decl', 'int', 'x'),
  ('var_decl', 'int', 'y'),
  ('var_decl', 'int', 'z'),
  ('var_decl', 'string', 'email'),
  ('var_decl', 'string', 'name'),
  ('var_decl', 'string', 'greeting'),
  ('assign', 'x', ('num', '5')),
  ('assign', 'y', ('+', ('var', 'x'), ('num', '3'))),
  ('assign', 'z', ('/', ('var', 'x'), ('var', 'y'))),
  ('assign', 'email', ('str', '"adham.allam.x@gmail.com"')),
  ('assign', 'name', ('str', '"Alice"')),
  ('assign', 'greeting', ('+', ('str', '"Hello"'), ('str', '" World!"')))
])


------------------------------------------------------

## Tools & Libraries

1. PLY (Python Lex-Yacc): For parsing.

2. Python 3.11+

------------------------------------------------------

## Notes
1. Enhancement: Subtraction (-), multiplication (*), and division (/) were added beyond the minimum required feature set.
2. This demonstrates advanced understanding and extensibility of the parser design
